# 俄罗斯方块游戏 (Tetris)

这是一个用Python和pygame库开发的经典俄罗斯方块游戏。

## 功能特性

- 🎮 经典的俄罗斯方块游戏玩法
- 🎨 彩色方块和清晰的游戏界面
- 🎯 实时得分和等级系统
- 👻 虚影方块显示（预览落点）
- ⏸️ 暂停/继续功能
- 🔄 重新开始功能
- 📊 下一个方块预览

## 安装要求

- Python 3.6+
- pygame 库

## 安装步骤

### 方法1：使用系统包管理器（推荐）

```bash
sudo apt update
sudo apt install python3-pygame
```

### 方法2：使用pip

```bash
pip install pygame
```

## 运行游戏

有两种方式启动游戏：

### 方式1：使用启动脚本

```bash
python3 run_tetris.py
```

### 方式2：直接运行主程序

```bash
python3 tetris.py
```

## 游戏控制

| 按键 | 功能 |
|------|------|
| ← → | 左右移动方块 |
| ↓ | 软降（加速下落，+1分） |
| ↑ | 旋转方块 |
| 空格 | 硬降（直接落到底部，+2分/格） |
| P | 暂停/继续游戏 |
| R | 重新开始游戏 |
| ESC/关闭窗口 | 退出游戏 |

## 得分规则

- **软降**: 每下降一格 +1分
- **硬降**: 每下降一格 +2分
- **消行**: 
  - 消除1行: 100分 × 当前等级
  - 消除2行: 300分 × 当前等级
  - 消除3行: 500分 × 当前等级
  - 消除4行: 800分 × 当前等级

## 等级系统

- 每消除10行提升1个等级
- 等级越高，方块下落速度越快
- 最高等级无上限

## 方块类型

游戏包含7种经典的俄罗斯方块：

1. **I形** - 青色，直线形状
2. **O形** - 黄色，正方形
3. **T形** - 紫色，T字形
4. **S形** - 绿色，S字形
5. **Z形** - 红色，Z字形
6. **J形** - 蓝色，J字形
7. **L形** - 橙色，L字形

## 游戏界面

- **游戏区域**: 10×20的网格
- **下一个方块预览**: 显示即将出现的方块
- **得分信息**: 显示当前得分、消除行数和等级
- **虚影方块**: 显示当前方块的落点位置

## 技术实现

- **语言**: Python 3
- **图形库**: pygame
- **架构**: 面向对象设计
- **主要类**:
  - `Piece`: 方块类，处理方块的形状、位置和旋转
  - `TetrisGame`: 游戏逻辑类，处理游戏状态、碰撞检测、行消除等
  - `TetrisRenderer`: 渲染类，负责绘制游戏界面

## 文件结构

```
.
├── tetris.py           # 主游戏文件
├── run_tetris.py       # 游戏启动脚本
├── requirements.txt    # 依赖项列表
└── README.md          # 说明文档
```

## 故障排除

### 问题1：pygame导入错误
```bash
# 解决方案：安装pygame
sudo apt install python3-pygame
# 或者
pip install pygame
```

### 问题2：没有显示设备
如果在没有图形界面的服务器上运行，需要设置虚拟显示：
```bash
export DISPLAY=:0
# 或使用xvfb
sudo apt install xvfb
xvfb-run -a python3 tetris.py
```

### 问题3：权限问题
```bash
chmod +x run_tetris.py
```

## 许可证

本项目采用MIT许可证，可自由使用和修改。

## 贡献

欢迎提交bug报告、功能请求或代码改进！

---

享受游戏吧！🎮